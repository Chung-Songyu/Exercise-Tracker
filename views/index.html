<!DOCTYPE html>
<html>
  <head>
    <title>Exercise Tracker Microservice</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <h1><span id="header">Exercise Tracker Microservice</span></h1>
    <div class="container">
      <form action="/api/users" method="post">
        <h3>Create new user</h3>
        <input id="username" type="text" name="username" placeholder="username">
        <input class="submit" type="submit" value="Submit">
      </form>
      <form id="exercise-form" method="post">
        <h3>Add exercise</h3>
        <input id="userId" type="text" name=":_id" placeholder="_id">
        <input type="text" name="description" placeholder="description*">
        <input type="text" name="duration" placeholder="duration* (min)">
        <input type="text" name="date" placeholder="date (yyyy-mm-dd)">
        <input class="submit" type="submit" value="Submit">
      </form>
    </div>
    <p>
      <strong>Access your exercise log at:</strong>
      <br/><br/>
      <code>/api/users/_id/logs?[&from=<span class="date">Date</span>][&to=<span class="date">Date</span>][&limit=<span class="number">Number</span>]</code>
    </p>
    <p><strong>[ ]</strong> = optional query parameter</p>
    <p><span class="date">Date</span> in yyyy-mm-dd format. E.g. 2020-12-31.</p>

    <script>
      const submitExercise = document.getElementById("exercise-form");
      submitExercise.addEventListener("submit", () => {
        const userId = document.getElementById("userId").value;
        submitExercise.action = `/api/users/${userId}/exercises`;
        submitExercise.submit();
      });
    </script>
  </body>
</html>
